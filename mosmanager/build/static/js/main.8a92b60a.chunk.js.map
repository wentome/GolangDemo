{"version":3,"sources":["login.js","userlist.js","user.js","index.js"],"names":["layout","labelCol","span","wrapperCol","tailLayout","offset","Login","formRef","React","createRef","onFinish","values","fetch","method","headers","body","JSON","stringify","then","one","json","two","state","props","history","push","pathname","console","log","catch","err","onReset","current","resetFields","onFill","setFieldsValue","note","gender","ref","this","name","Item","label","rules","required","type","htmlType","onClick","Component","UserList","handleTableChange","pagination","pager","setState","ask","handleClick","text","loading","total","length","pageSize","data","columns","title","dataIndex","width","render","bind","dataSource","onChange","User","getUser","args","code","match","params","BasicRoute","Layout","Sider","Content","Footer","style","minHeight","exact","path","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.8a92b60a.chunk.js","sourcesContent":["import React from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\nimport { Form, Input, Button, Select } from 'antd';\r\n\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 16 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n\r\nclass Login extends React.Component {\r\n  formRef = React.createRef();\r\n   onFinish=values=> {\r\n    fetch('/login', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(values),\r\n    }).then(one=>{\r\n          return one.json()\r\n      }).then(two=>{\r\n        if (two.state==\"pass\"){\r\n          this.props.history.push({pathname:'/user'})\r\n        }else{\r\n          console.log(\"login fail\")\r\n        }\r\n      }).catch(err=>{\r\n        console.log(err)\r\n      })\r\n  };\r\n\r\n  onReset = () => {\r\n    this.formRef.current.resetFields();\r\n  };\r\n\r\n  onFill = () => {\r\n    this.formRef.current.setFieldsValue({\r\n      note: 'Hello world!',\r\n      gender: 'male',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form {...layout} ref={this.formRef} name=\"control-ref\" onFinish={this.onFinish}>\r\n        <Form.Item name=\"username\" label=\"UserName\" rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item name=\"password\" label=\"Password\" rules={[{ required: true }]}>\r\n        <Input />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Submit\r\n          </Button>\r\n          <Button htmlType=\"button\" onClick={this.onReset}>\r\n            Reset\r\n          </Button>\r\n          <Button type=\"link\" htmlType=\"button\" onClick={this.onFill}>\r\n            Fill form\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login","import React from 'react';\r\nimport { Form, Input, Button, Table } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\n\r\nclass UserList extends React.Component {\r\n    constructor(props) {\r\n        super(props); \r\n        this.state = {\r\n            data: [],\r\n            pagination: {},\r\n            loading: false,\r\n        };\r\n      this.columns = [\r\n        { \r\n          title: 'Code',\r\n          dataIndex: 'code',\r\n          width: '20%',\r\n          render: text => <Button type=\"link\" onClick={ this.handleClick.bind(this,text)}>{text}</Button>,\r\n        },\r\n        { \r\n          title: 'Name',\r\n          dataIndex: 'name',\r\n          width: '20%',\r\n        },\r\n        { \r\n          title: 'Message',\r\n          dataIndex: 'message',\r\n        },\r\n      ];\r\n  }\r\n    componentDidMount() {\r\n      this.ask();\r\n    }\r\n     handleTableChange = (pagination) => {\r\n      const pager = { ...this.state.pagination };\r\n      pager.current = pagination.current;\r\n      this.setState({\r\n        pagination: pager,\r\n      });\r\n      this.ask();\r\n    };\r\n    handleClick=(text)=>{\r\n      this.props.history.push({pathname:'/user/'+text,state:text})\r\n  }\r\n\r\n    ask = () => {\r\n        this.setState({ loading: true });\r\n        fetch('/api/userlist', {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' },\r\n        }).then(one=>{\r\n           return one.json()\r\n        }).then(two=>{\r\n            const pagination = { ...this.state.pagination };\r\n            pagination.total = two.length;\r\n            pagination.pageSize = 50;\r\n            this.setState({\r\n                loading: false,\r\n                data: two,\r\n                pagination,\r\n            })\r\n        })\r\n    }\r\n    render() {\r\n      return (\r\n        <Table\r\n          columns={this.columns}\r\n          dataSource={this.state.data}\r\n          pagination={this.state.pagination}\r\n          loading={this.state.loading}\r\n          onChange={this.handleTableChange}\r\n        />\r\n      );\r\n    }\r\n}\r\n\r\nexport default UserList","import React from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\nimport { Form, Input, Button, Select } from 'antd';\r\n\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 16 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n\r\nclass User extends React.Component {\r\n  constructor(props) {\r\n    super(props);   \r\n    this.state = {\r\n      data: [],\r\n      pagination: {},\r\n      loading: false,\r\n    }\r\n    this.code=this.props.match.params.code\r\n  }\r\n  formRef = React.createRef();\r\n  componentDidMount() {\r\n    this.getUser(this.code);\r\n  };\r\n\r\n  getUser=(args)=>{\r\n    fetch('/api/user/'+args, {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' },\r\n    }).then(one=>{\r\n          return one.json()\r\n      }).then(two=>{\r\n        console.log(two)\r\n        this.formRef.current.setFieldsValue(two);\r\n      }).catch(err=>{\r\n        console.log(err)\r\n      })\r\n\r\n  }\r\n  onFinish=values=> {\r\n    fetch('/api/save', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(values),\r\n    }).then(one=>{\r\n          return one.json()\r\n      }).then(two=>{\r\n        if (two.state==\"pass\"){\r\n          //this.props.history.push({pathname:'/user'})\r\n          console.log(\"save pass\")\r\n        }else{\r\n          console.log(\"save fail\")\r\n        }\r\n      }).catch(err=>{\r\n        console.log(err)\r\n      })\r\n  };\r\n\r\n  onReset = () => {\r\n    this.formRef.current.resetFields();\r\n  };\r\n\r\n  onFill = () => {\r\n    this.formRef.current.setFieldsValue({\r\n      note: 'Hello world!',\r\n      gender: 'male',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form {...layout} ref={this.formRef} name=\"control-ref\" onFinish={this.onFinish}>\r\n        <Form.Item name=\"code\" label=\"code\" rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item name=\"name\" label=\"Name\" rules={[{ required: true }]}>\r\n        <Input />\r\n        </Form.Item>\r\n        <Form.Item name=\"message\" label=\"Message\" rules={[{ required: true }]}>\r\n        <Input />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Save\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default User","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom';\nimport {Layout } from 'antd';\nimport Login from './login'\nimport UserList from './userlist'\nimport User from './user'\nimport 'antd/dist/antd.css';\nimport './index.css';\n\nconst { Sider, Content, Footer} = Layout;\nclass BasicRoute extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n    render(){\n        return(\n            <Router>\n                <Layout style={{ minHeight: '100vh' }}>\n                <Switch>\n                    <Route exact path=\"/\" component={Login}/>\n                    <Route exact path=\"/login\" component={Login}/>\n                    <Route exact path=\"/userlist\" component={UserList}/>\n                    <Route exact path=\"/user/:code\" component={User}/>\n                </Switch>\n                </Layout>\n            </Router>\n        )\n    }\n}\nReactDOM.render(\n  <BasicRoute/>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}