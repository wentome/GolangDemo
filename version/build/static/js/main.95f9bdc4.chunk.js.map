{"version":3,"sources":["index.js"],"names":["columns","title","dataIndex","width","render","text","record","href","App","state","data","pagination","loading","base_url","window","location","origin","handleTableChange","pager","current","setState","fetch","reqwest","url","method","type","then","total","length","pageSize","this","dataSource","onChange","React","Component","ReactDOM","document","getElementById"],"mappings":"6QAOMA,EAAU,CACd,CACEC,MAAO,UACPC,UAAW,UACXC,MAAO,MAET,CACEF,MAAO,aACPC,UAAW,aACXC,MAAO,MACVC,OAAQ,SAACC,EAAMC,GAAP,OACD,4DACwB,6BADxB,QAKN,CACEL,MAAO,MACPC,UAAW,MACXC,MAAO,OAET,CACEF,MAAO,MACPC,UAAW,MACXC,MAAO,KACVC,OAAQ,SAACC,EAAMC,GAAP,OACD,8BACA,uBAAGC,KAAMF,GAAT,gBAMFG,E,2MACJC,MAAQ,CACNC,KAAM,GACNC,WAAY,GACZC,SAAS,EACTC,SAAUC,OAAOC,SAASC,Q,EAU5BC,kBAAoB,SAACN,GACnB,IAAMO,EAAK,eAAQ,EAAKT,MAAME,YAC9BO,EAAMC,QAAUR,EAAWQ,QAC3B,EAAKC,SAAS,CACZT,WAAYO,IAEd,EAAKG,S,EAGPA,MAAQ,WACN,EAAKD,SAAS,CAAER,SAAS,IACzBU,IAAQ,CACNC,IAAK,EAAKd,MAAMI,SAAS,uBACzBW,OAAQ,MACRC,KAAM,SACLC,MAAK,SAAAhB,GACN,IAAMC,EAAU,eAAQ,EAAKF,MAAME,YACnCA,EAAWgB,MAAQjB,EAAKkB,OACxBjB,EAAWkB,SAAW,GACtB,EAAKT,SAAS,CACZR,SAAS,EACTF,KAAMA,EACNC,mB,mFA7BHmB,KAAKT,U,+BAmCN,OACE,kBAAC,IAAD,CACErB,QAASA,EACT+B,WAAYD,KAAKrB,MAAMC,KACvBC,WAAYmB,KAAKrB,MAAME,WACvBC,QAASkB,KAAKrB,MAAMG,QACpBoB,SAAUF,KAAKb,wB,GAjDLgB,IAAMC,WAuDxBC,IAAS/B,OAAO,kBAACI,EAAD,MAAS4B,SAASC,eAAe,U","file":"static/js/main.95f9bdc4.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './index.css';\nimport { Table } from 'antd';\nimport reqwest from 'reqwest';\n\nconst columns = [\n  {\n    title: 'Version',\n    dataIndex: 'version',\n    width: '5%',\n  },\n  {\n    title: 'Changelist',\n    dataIndex: 'changelist',\n    width: '50%',\n\trender: (text, record) => ( \n        <span>\n        text.replace('\\r\\n|\\n','<br/>')\n       \t</span>\n\t),\n  },\n  {\n    title: 'Md5',\n    dataIndex: 'md5',\n    width: '10%',\n  },\n  {\n    title: 'Url',\n    dataIndex: 'url',\n    width: '5%',\n\trender: (text, record) => ( \n        <span>\n        <a href={text}>download</a>\n      \t</span>\n\t),\n  },\n];\n\nclass App extends React.Component {\n  state = {\n    data: [],\n    pagination: {},\n    loading: false,\n    base_url: window.location.origin\n  };\n  componentDidMount() {\n     this.fetch()\n     //this.timerID = setInterval(\n     //       () => this.fetch(),\n     //      3000\n     //   );\n  }\n\n  handleTableChange = (pagination) => {\n    const pager = { ...this.state.pagination };\n    pager.current = pagination.current;\n    this.setState({\n      pagination: pager,\n    });\n    this.fetch();\n  };\n\n  fetch = () => {\n    this.setState({ loading: true });\n    reqwest({\n      url: this.state.base_url+'/version/4.6/release',\n      method: 'get',\n      type: 'json',\n    }).then(data => {\n      const pagination = { ...this.state.pagination };\n      pagination.total = data.length;\n      pagination.pageSize = 50;\n      this.setState({\n        loading: false,\n        data: data,\n        pagination,\n      });\n    });\n  };\n\n  render() {\n    return (\n      <Table\n        columns={columns}\n        dataSource={this.state.data}\n        pagination={this.state.pagination}\n        loading={this.state.loading}\n        onChange={this.handleTableChange}\n      />\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}